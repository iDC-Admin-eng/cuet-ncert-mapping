<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 7-Day NCERT Economics Study Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=League+Spartan:wght@700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .chart-container { position: relative; width: 100%; max-width: 900px; margin: auto; height: 250px; }
        @media (min-width: 768px) { .chart-container { height: 300px; } }
        .card-gradient { background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%); }
        .subject-tag { display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: 600; font-size: 0.75rem; }
        .micro-tag { background-color: #FFD166; color: #073B4C; }
        .macro-tag { background-color: #118AB2; color: white; }
        .dev-tag { background-color: #06D6A0; color: #073B4C; }

        /* Styles for the interactive dropdowns */
        details > summary { list-style: none; cursor: pointer; }
        details > summary::-webkit-details-marker { display: none; }
        .pyq-entry { border-left: 3px solid #118AB2; padding: 0.5rem 0.75rem; background-color: #f8fafc; border-radius: 4px; font-size: 0.8rem; line-height: 1.4; }
        .pyq-entry strong { color: #073B4C; }
        .pyq-desc strong { color: #118AB2; } /* Style for subsection */
        .progress-checkbox { min-width: 1rem; min-height: 1rem; }
        .completed { text-decoration: line-through; color: #9ca3af; }

        /* Logo Styling with Scroll Effect */
        .dashboard-logo {
            position: fixed;
            top: 1rem;
            right: 1.5rem;
            width: 32px;
            height: 32px;
            background-color: #aa4e4e;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            transform-origin: top right;
        }
        .logo-text {
            font-family: 'League Spartan', sans-serif;
            color: white;
            font-weight: 700;
            font-size: 0.9rem;
            line-height: 1;
        }
        /* Class added on scroll */
        .dashboard-logo.scrolled {
            opacity: 0.4;
            transform: scale(0.9);
        }
        .dashboard-logo.scrolled:hover {
             opacity: 1;
             transform: scale(1);
        }
    </style>
</head>
<body class="text-[#073B4C]">

<!-- iDC Logo -->
<div class="dashboard-logo">
    <span class="logo-text">iDC</span>
</div>

<div class="container mx-auto p-4 md:p-8">

    <header class="text-center mb-10">
        <h1 class="text-4xl md:text-5xl font-bold text-[#073B4C] mb-2">Master NCERT Economics in 7 Days</h1>
        <p class="text-lg text-gray-600">Your interactive guide for CUET PG. Click on a chapter to see related PYQs.</p>
    </header>

    <!-- Progress Bar Section -->
    <section class="mb-12 bg-white rounded-xl shadow-lg p-6">
        <h2 class="text-2xl font-bold text-center mb-4">Overall Progress</h2>
        <div class="w-full bg-gray-200 rounded-full h-6">
            <div id="progressBar" class="bg-gradient-to-r from-[#06D6A0] to-[#118AB2] h-6 rounded-full text-center text-white font-bold text-sm leading-6 transition-all duration-500" style="width: 0%;">
                0%
            </div>
        </div>
    </section>

    <section class="mb-12 bg-white rounded-xl shadow-lg p-6">
        <h2 class="text-2xl font-bold text-center mb-4">Weekly Workload Overview</h2>
        <div class="chart-container">
            <canvas id="overviewChart"></canvas>
        </div>
    </section>

    <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

        <!-- Day 1 Card -->
        <div class="card-gradient rounded-xl shadow-lg p-6">
            <h3 class="text-2xl font-bold mb-1">Day 1</h3>
            <p class="text-gray-500 mb-4 font-medium">Total: ~5 hours 15 mins</p>
            <div class="mb-6">
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="micro-tag mr-2">Micro</span> Morning Session</h4>
                <ul class="space-y-2 text-sm">
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-intro-micro" class="progress-checkbox"><span>Ch 1: Introduction</span></span><span>45m</span></label></li>
                    <li>
                        <details data-chapter="Consumer Behaviour">
                            <summary class="flex justify-between w-full items-center hover:bg-gray-100 rounded p-1">
                                <span class="flex items-center gap-2"><input type="checkbox" id="ch-consumer-behaviour" class="progress-checkbox"><span>Ch 2: Consumer Behaviour</span></span><span>2h</span>
                            </summary>
                            <div class="pyq-content mt-2 pl-4 space-y-2"></div>
                        </details>
                    </li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="dev-tag mr-2">Indian Eco</span> Afternoon Session</h4>
                <ul class="space-y-2 text-sm">
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-eve-of-independence" class="progress-checkbox"><span>Ch 1: Eve of Independence</span></span><span>1h 15m</span></label></li>
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-indian-eco-1950" class="progress-checkbox"><span>Ch 2: Indian Economy 1950-90</span></span><span>1h 15m</span></label></li>
                </ul>
            </div>
        </div>

        <!-- Day 2 Card -->
        <div class="card-gradient rounded-xl shadow-lg p-6">
            <h3 class="text-2xl font-bold mb-1">Day 2</h3>
            <p class="text-gray-500 mb-4 font-medium">Total: ~5 hours</p>
            <div class="mb-6">
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="micro-tag mr-2">Micro</span> Morning Session</h4>
                <ul class="space-y-2 text-sm">
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-prod-and-costs" class="progress-checkbox"><span>Ch 3: Production and Costs</span></span><span>1h 45m</span></label></li>
                    <li>
                        <details data-chapter="Perfect Competition">
                            <summary class="flex justify-between w-full items-center hover:bg-gray-100 rounded p-1">
                                <span class="flex items-center gap-2"><input type="checkbox" id="ch-perfect-competition" class="progress-checkbox"><span>Ch 4: Perfect Competition</span></span><span>1h 15m</span>
                            </summary>
                            <div class="pyq-content mt-2 pl-4 space-y-2"></div>
                        </details>
                    </li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="dev-tag mr-2">Indian Eco</span> Afternoon Session</h4>
                <ul class="space-y-2 text-sm">
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-lpg-reforms" class="progress-checkbox"><span>Ch 3: LPG Reforms</span></span><span>1h</span></label></li>
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-poverty" class="progress-checkbox"><span>Ch 4: Poverty</span></span><span>1h</span></label></li>
                </ul>
            </div>
        </div>

        <!-- Day 3 Card -->
        <div class="card-gradient rounded-xl shadow-lg p-6">
            <h3 class="text-2xl font-bold mb-1">Day 3</h3>
            <p class="text-gray-500 mb-4 font-medium">Total: ~4 hours 45 mins</p>
            <div class="mb-6">
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="micro-tag mr-2">Micro</span> Morning Session</h4>
                <ul class="space-y-2 text-sm">
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-market-equilibrium" class="progress-checkbox"><span>Ch 5: Market Equilibrium</span></span><span>1h</span></label></li>
                    <li>
                        <details data-chapter="Non-Competitive Markets">
                             <summary class="flex justify-between w-full items-center hover:bg-gray-100 rounded p-1">
                                <span class="flex items-center gap-2"><input type="checkbox" id="ch-non-competitive" class="progress-checkbox"><span>Ch 6: Non-Competitive Markets</span></span><span>1h 15m</span>
                            </summary>
                            <div class="pyq-content mt-2 pl-4 space-y-2"></div>
                        </details>
                    </li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="macro-tag mr-2">Macro</span> Afternoon Session</h4>
                <ul class="space-y-2 text-sm">
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-intro-macro" class="progress-checkbox"><span>Ch 1: Introduction</span></span><span>30m</span></label></li>
                    <li>
                        <details data-chapter="National Income">
                            <summary class="flex justify-between w-full items-center hover:bg-gray-100 rounded p-1">
                                <span class="flex items-center gap-2"><input type="checkbox" id="ch-national-income" class="progress-checkbox"><span>Ch 2: National Income</span></span><span>2h</span>
                            </summary>
                            <div class="pyq-content mt-2 pl-4 space-y-2"></div>
                        </details>
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- Day 4 Card -->
        <div class="card-gradient rounded-xl shadow-lg p-6">
            <h3 class="text-2xl font-bold mb-1">Day 4</h3>
            <p class="text-gray-500 mb-4 font-medium">Total: ~4 hours 30 mins</p>
            <div class="mb-6">
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="macro-tag mr-2">Macro</span> Morning Session</h4>
                <ul class="space-y-2 text-sm">
                    <li>
                        <details data-chapter="Money & Banking">
                            <summary class="flex justify-between w-full items-center hover:bg-gray-100 rounded p-1">
                                <span class="flex items-center gap-2"><input type="checkbox" id="ch-money-banking" class="progress-checkbox"><span>Ch 3: Money & Banking</span></span><span>2h 30m</span>
                            </summary>
                            <div class="pyq-content mt-2 pl-4 space-y-2"></div>
                        </details>
                    </li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="dev-tag mr-2">Indian Eco</span> Afternoon Session</h4>
                <ul class="space-y-2 text-sm">
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-human-capital" class="progress-checkbox"><span>Ch 5: Human Capital</span></span><span>1h</span></label></li>
                    <li>
                        <details data-chapter="Rural Development">
                            <summary class="flex justify-between w-full items-center hover:bg-gray-100 rounded p-1">
                                <span class="flex items-center gap-2"><input type="checkbox" id="ch-rural-dev" class="progress-checkbox"><span>Ch 6: Rural Development</span></span><span>1h</span>
                            </summary>
                            <div class="pyq-content mt-2 pl-4 space-y-2"></div>
                        </details>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Day 5 Card -->
        <div class="card-gradient rounded-xl shadow-lg p-6">
            <h3 class="text-2xl font-bold mb-1">Day 5</h3>
            <p class="text-gray-500 mb-4 font-medium">Total: ~4 hours 45 mins</p>
            <div class="mb-6">
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="macro-tag mr-2">Macro</span> Morning Session</h4>
                <ul class="space-y-2 text-sm">
                    <li>
                        <details data-chapter="Income Determination">
                            <summary class="flex justify-between w-full items-center hover:bg-gray-100 rounded p-1">
                                <span class="flex items-center gap-2"><input type="checkbox" id="ch-income-determination" class="progress-checkbox"><span>Ch 4: Income Determination</span></span><span>2h 45m</span>
                            </summary>
                            <div class="pyq-content mt-2 pl-4 space-y-2"></div>
                        </details>
                    </li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="dev-tag mr-2">Indian Eco</span> Afternoon Session</h4>
                <ul class="space-y-2 text-sm">
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-employment" class="progress-checkbox"><span>Ch 7: Employment</span></span><span>1h</span></label></li>
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-infra" class="progress-checkbox"><span>Ch 8: Infrastructure</span></span><span>1h</span></label></li>
                </ul>
            </div>
        </div>

        <!-- Day 6 Card -->
        <div class="card-gradient rounded-xl shadow-lg p-6">
            <h3 class="text-2xl font-bold mb-1">Day 6</h3>
            <p class="text-gray-500 mb-4 font-medium">Total: ~4 hours 30 mins</p>
            <div class="mb-6">
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="macro-tag mr-2">Macro</span> Morning Session</h4>
                <ul class="space-y-2 text-sm">
                    <li>
                        <details data-chapter="Government Budget">
                            <summary class="flex justify-between w-full items-center hover:bg-gray-100 rounded p-1">
                                <span class="flex items-center gap-2"><input type="checkbox" id="ch-gov-budget" class="progress-checkbox"><span>Ch 5: Government Budget</span></span><span>2h 30m</span>
                            </summary>
                            <div class="pyq-content mt-2 pl-4 space-y-2"></div>
                        </details>
                    </li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="dev-tag mr-2">Indian Eco</span> Afternoon Session</h4>
                <ul class="space-y-2 text-sm">
                    <li><label class="flex justify-between w-full items-center p-1"><span class="flex items-center gap-2"><input type="checkbox" id="ch-environment" class="progress-checkbox"><span>Ch 9: Environment</span></span><span>45m</span></label></li>
                    <li>
                        <details data-chapter="Comparative Dev">
                            <summary class="flex justify-between w-full items-center hover:bg-gray-100 rounded p-1">
                                <span class="flex items-center gap-2"><input type="checkbox" id="ch-comp-dev" class="progress-checkbox"><span>Ch 10: Comparative Dev.</span></span><span>1h 15m</span>
                            </summary>
                            <div class="pyq-content mt-2 pl-4 space-y-2"></div>
                        </details>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Day 7 Card -->
        <div class="card-gradient rounded-xl shadow-lg p-6 md:col-span-2 lg:col-span-1 border-2 border-[#FF6B6B]">
            <h3 class="text-2xl font-bold mb-1 text-[#FF6B6B]">Day 7</h3>
            <p class="text-gray-500 mb-4 font-medium">Total: ~5 hours + Mock Test</p>
            <div class="mb-6">
                <h4 class="text-lg font-semibold mb-2 flex items-center"><span class="macro-tag mr-2">Macro</span> Morning Session</h4>
                <ul class="space-y-2 text-sm">
                    <li>
                        <details data-chapter="Open Economy">
                            <summary class="flex justify-between w-full items-center hover:bg-gray-100 rounded p-1">
                                <span class="flex items-center gap-2"><input type="checkbox" id="ch-open-economy" class="progress-checkbox"><span>Ch 6: Open Economy</span></span><span>2h 30m</span>
                            </summary>
                            <div class="pyq-content mt-2 pl-4 space-y-2"></div>
                        </details>
                    </li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-2 flex items-center text-[#FF6B6B]">Afternoon & Evening</h4>
                <ul class="space-y-2 text-sm">
                    <li><label class="flex justify-between w-full items-center"><span class="flex items-center gap-2"><input type="checkbox" id="task-revision" class="progress-checkbox"><span>Full Syllabus Revision</span></span><span>2h 30m</span></label></li>
                    <li><label class="flex justify-between w-full items-center font-bold"><span class="flex items-center gap-2"><input type="checkbox" id="task-mock-paper" class="progress-checkbox"><span>Solve CUET PG Mock Paper</span></span><span>-</span></label></li>
                </ul>
            </div>
        </div>
    </main>
</div>

<script>
const pyqData = {
    "National Income": [
        { id: "q2", q: "Q.2 (Core Inflation)", desc: "<strong>(Subsection 2.4)</strong> Based on Goods and Prices. The NCERT introduces price indices; core inflation is a direct extension of this." },
        { id: "q13", q: "Q.13 (GDP Calculation)", desc: "Tests the core concepts of what is included/excluded from GDP, as taught in this chapter." },
        { id: "q21", q: "Q.21 (Residential Investment)", desc: "<strong>(Subsection 2.1)</strong> An application based on the concept of investment (capital formation)." },
        { id: "q26", q: "Q.26 (Inventory Changes)", desc: "Directly relates to unintended inventory changes when desired and actual investment differ, a key concept." }
    ],
    "Money & Banking": [
        { id: "q4", q: "Q.4 & Q.7 (Theories of Demand for Money)", desc: "<strong>(Subsection 3.2)</strong> While NCERT focuses on Keynes, these questions require knowledge of other historical theories on the same topic." },
        { id: "q27", q: "Q.27 & Q.54 (Monetary Aggregates)", desc: "<strong>(Subsection 3.3.1)</strong> Directly tests the definitions and liquidity of M1, M2, M3, M4." },
        { id: "q48", q: "Q.48 (Statutory Liquidity Requirement - SLR)", desc: "Tests the components of SLR, a key policy tool used by the central bank." },
        { id: "q49", q: "Q.49 (Keynesian Interest Rate)", desc: "<strong>(Subsection 3.2.2)</strong> Based on the concept where the interest rate equates money supply and demand." },
        { id: "q63", q: "Q.63 (Liabilities of Commercial Banks)", desc: "Based on the balance sheet concepts of commercial banks discussed in this chapter." },
        { id: "q66", q: "Q.66 (Money Multiplier)", desc: "<strong>(Subsection 3.3.2)</strong> Tests the properties and formula of the money multiplier." }
    ],
    "Income Determination": [
        { id: "q19", q: "Q.19 (Effect of Taxes on Multiplier)", desc: "An application of the Keynesian multiplier, testing how automatic stabilizers work." },
        { id: "q32", q: "Q.32 (Balanced Budget Multiplier)", desc: "A direct question on a specific case of the Keynesian multiplier." },
        { id: "q53", q: "Q.53 (Life Cycle Theory of Consumption)", desc: "An advanced theory that builds upon the basic consumption function (C = f(Y)) introduced here." },
        { id: "q56", q: "Q.56 (IS Curve)", desc: "The IS curve represents goods market equilibrium, derived from the core concepts of this chapter." }
    ],
    "Government Budget": [
        { id: "q15", q: "Q.15 (Government Deficits)", desc: "<strong>(Subsection 5.1.3)</strong> Tests knowledge of deficit types. Requires current data." },
        { id: "q64", q: "Q.64 (Public vs. Private Goods)", desc: "<strong>(Subsection 5.3)</strong> Based on the characteristics of public goods." }
    ],
    "Open Economy": [
        { id: "q23", q: "Q.23 (Current Account Surplus)", desc: "<strong>(Subsection 6.1)</strong> Concept from the Balance of Payments, but requires specific current affairs knowledge." },
        { id: "q40", q: "Q.40 (Foreign Exchange Concepts)", desc: "<strong>(Subsection 6.2)</strong> Tests practical forex terms which are applications of concepts from the Foreign Exchange Market section." },
        { id: "q69", q: "Q.69 (Balance of Payments Accounts)", desc: "<strong>(Subsection 6.1)</strong> Tests where specific transactions are recorded." }
    ],
    "Consumer Behaviour": [
        { id: "q3", q: "Q.3 (Utility Maximization)", desc: "<strong>(Subsection 2.3)</strong> A direct application of the principles of consumer equilibrium." },
        { id: "q9", q: "Q.9 (Expenditure Function)", desc: "An advanced topic derived from the principles of utility maximization taught in this chapter." },
        { id: "q55", q: "Q.55 (Shifts in Demand)", desc: "<strong>(Subsection 2.4.2)</strong> Tests the factors that shift the demand curve (specifically for inferior goods)." },
        { id: "q71", q: "Q.71 (Consumer Surplus)", desc: "The concept is from this chapter, but calculation requires integration (Maths Ch. 8)." }
    ],
    "Perfect Competition": [
        { id: "q17", q: "Q.17 (Perfect Competition)", desc: "Tests the conditions of equilibrium in a perfectly competitive market." }
    ],
    "Non-Competitive Markets": [
        { id: "q38", q: "Q.38 (Monopolistic Competition)", desc: "<strong>(Subsection 6.2)</strong> Tests the key features of monopolistic competition." },
        { id: "q75", q: "Q.75 (Kinked Demand Curve)", desc: "<strong>(Subsection 6.2)</strong> A model to explain price rigidity in an oligopoly, a key concept." }
    ],
    "Rural Development": [
        { id: "q41", q: "Q.41 (Landholding Patterns)", desc: "The classification of farmers (marginal, small, medium) is part of this topic." }
    ],
    "Comparative Dev": [
        { id: "q39", q: "Q.39 (Dependency Ratio)", desc: "<strong>(Subsection 10.3)</strong> A demographic indicator. The question requires specific state-wise data." }
    ]
};

document.addEventListener('DOMContentLoaded', function () {
    // --- 1. CHART.JS SETUP ---
    const ctx = document.getElementById('overviewChart').getContext('2d');
    const overviewChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Introductory Microeconomics', 'Introductory Macroeconomics', 'Indian Economic Development'],
            datasets: [{
                label: 'Total Study Hours',
                data: [7.75, 12.5, 9],
                backgroundColor: ['#FFD166', '#118AB2', '#06D6A0'],
                borderColor: ['#073B4C', '#073B4C', '#073B4C'],
                borderWidth: 1, borderRadius: 5, barThickness: 30,
            }]
        },
        options: {
            indexAxis: 'y', responsive: true, maintainAspectRatio: false,
            scales: { x: { beginAtZero: true, grid: { display: false } }, y: { grid: { display: false } } },
            plugins: { legend: { display: false } }
        }
    });

    // --- 2. PYQ INJECTION LOGIC ---
    const allChapters = document.querySelectorAll('details[data-chapter]');
    allChapters.forEach(chapterDetail => {
        const chapterKey = chapterDetail.dataset.chapter;
        const questions = pyqData[chapterKey];
        const contentDiv = chapterDetail.querySelector('.pyq-content');
        if (questions && questions.length > 0) {
            let htmlContent = '';
            questions.forEach(item => {
                const checkboxId = `pyq-${chapterKey.toLowerCase().replace(/[^a-z0-9]/g, '')}-${item.id}`;
                htmlContent += `
                    <div class="pyq-entry">
                        <label class="flex items-start space-x-3 cursor-pointer">
                            <input type="checkbox" id="${checkboxId}" class="progress-checkbox mt-1">
                            <div class="flex-1">
                                <strong>${item.q}</strong>
                                <p class="text-gray-600 pyq-desc">${item.desc}</p>
                            </div>
                        </label>
                    </div>`;
            });
            contentDiv.innerHTML = htmlContent;
        }
    });
    
    // --- 3. PROGRESS TRACKING LOGIC ---
    const progressBar = document.getElementById('progressBar');
    const allCheckboxes = document.querySelectorAll('.progress-checkbox');
    const totalItems = allCheckboxes.length;

    function updateProgress() {
        const checkedItems = document.querySelectorAll('.progress-checkbox:checked').length;
        const percentage = totalItems > 0 ? Math.round((checkedItems / totalItems) * 100) : 0;
        
        progressBar.style.width = percentage + '%';
        progressBar.textContent = percentage + '%';

        allCheckboxes.forEach(checkbox => {
            const label = checkbox.closest('label, summary');
            if (label) {
                const textSpan = label.querySelector('span > span') || label.querySelector('div > strong') || label.querySelector('span');
                 if(textSpan) {
                     if (checkbox.checked) {
                        textSpan.classList.add('completed');
                    } else {
                        textSpan.classList.remove('completed');
                    }
                 }
            }
        });
    }

    function saveState(id, isChecked) {
        localStorage.setItem(id, isChecked);
    }

    function loadState() {
        allCheckboxes.forEach(checkbox => {
            const isChecked = localStorage.getItem(checkbox.id) === 'true';
            checkbox.checked = isChecked;
        });
    }
    
    allCheckboxes.forEach(checkbox => {
        checkbox.addEventListener('change', (e) => {
            if (e.target.parentElement.tagName === 'SPAN' && e.target.parentElement.parentElement.tagName === 'SUMMARY') {
                e.stopPropagation();
            }
            saveState(checkbox.id, checkbox.checked);
            updateProgress();
        });
    });

    loadState();
    updateProgress();

    // --- 4. NEW LOGO SCROLL FADE LOGIC ---
    const logo = document.querySelector('.dashboard-logo');
    window.addEventListener('scroll', () => {
        if (window.scrollY > 50) { // Fades after scrolling 50px
            logo.classList.add('scrolled');
        } else {
            logo.classList.remove('scrolled');
        }
    });
});
</script>
</body>
</html>

